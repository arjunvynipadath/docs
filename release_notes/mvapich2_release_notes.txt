================================================================================

                  Open Fabrics Enterprise Distribution (OFED)
                    MVAPICH2-1.7 in OFED 1.5.4 Release Notes

                                  October 2011


Overview
--------

These are the release notes for MVAPICH2-1.7. MVAPICH2 is an MPI-2
implementation over InfiniBand, iWARP and RoCE (RDMA over Converged Ethernet)
from the Ohio State University (http://mvapich.cse.ohio-state.edu/).


User Guide
----------

For more information on using MVAPICH2-1.7, please visit the user guide at
http://mvapich.cse.ohio-state.edu/support/.


Software Dependencies
---------------------

MVAPICH2 depends on the installation of the OFED Distribution stack with OpenSM
running. The MPI module also requires an established network interface (either
InfiniBand, IPoIB, iWARP, RoCE, uDAPL, or Ethernet).  BLCR support is needed if
built with fault tolerance support. Similarly, HWLOC support is needed if built
with Portable Hardware Locality feature for CPU mapping.


ChangeLog
---------

* Features and Enhancements (since MVAPICH2 1.6)
    - Based on MPICH2-1.4.1p1
    - Integrated Hybrid (UD-RC/XRC) design to get best performance on
      large-scale systems with reduced/constant memory footprint
    - CH3 shared memory channel for standalone hosts (including laptops)
      without any InfiniBand adapters
    - HugePage support
    - Improved intra-node shared memory communication performance
    - Shared memory backed windows for One-Sided Communication
    - Support for truly passive locking for intra-node RMA in shared memory and
      LIMIC based windows
    - Improved on-demand InfiniBand connection setup (CH3 and RoCE)
    - Tuned RDMA Fast Path Buffer size to get better performance with less
      memory footprint (CH3 and Nemesis)
    - Support for large data transfers (>2GB)
    - Integrated with enhanced LiMIC2 (v0.5.5) to support Intra-node large
      message (>2GB) transfers
    - Optimized Fence synchronization (with and without LIMIC2 support)
    - Automatic intra-node communication parameter tuning based on platform
    - Efficient connection set-up for multi-core systems
    - Enhanced designs and tuning for collectives (bcast, reduce, barrier,
      gather, allreduce, allgather, gatherv, allgatherv and alltoall)
    - Support for shared-memory collectives for modern clusters with up to 64
      cores/node
    - MPI_THREAD_SINGLE provided by default and MPI_THREAD_MULTIPLE as an
      option
    - Fast process migration using RDMA
    - Enabling Checkpoint/Restart support in pure SMP mode
    - Compact and shorthand way to specify blocks of processes on the same host
      with mpirun_rsh
    - Support for latest stable version of HWLOC v1.2.2
    - Enhanced mpirun_rsh design to avoid race conditions, support for
      fault-tolerance functionality and improved debug messages
    - Enhanced debugging config options to generate core files and back-traces
    - Automatic inter-node communication parameter tuning based on platform and
      adapter detection (Nemesis)
    - Integrated with latest OSU Micro-benchmarks (3.4)
    - Improved performance for medium sized messages (QLogic PSM interface)
    - Multi-core-aware collective support (QLogic PSM interface)
    - Performance optimization for QDR cards
    - Support for Chelsio T4 Adapter
    - Support for Ekopath Compiler

* Bug fixes (since MVAPICH2 1.6)
    - Fixes in Checkpoint/Restart and Migration support
    - Fix Restart when using automatic checkpoint
        - Thanks to Alexandr for reporting this
    - Handling very large one-sided transfers using RDMA
    - Fixes for memory leaks
    - Graceful handling of unknown HCAs
    - Better handling of shmem file creation errors
    - Fix for a hang in intra-node transfer
    - Fix for a build error with --disable-weak-symbols
        - Thanks to Peter Willis for reporting this issue
    - Fixes for one-sided communication with passive target synchronization
    - Better handling of memory allocation and registration failures
    - Fixes for compilation warnings
    - Fix a bug that disallows '=' from mpirun_rsh arguments
    - Handling of non-contiguous transfer in Nemesis interface
    - Bug fix in gather collective when ranks are in cyclic order
    - Fix for the ignore_locks bug in MPI-IO with Lustre
    - Compiler preference lists reordered to avoid mixing GCC and Intel
      compilers if both are found by configure
    - Fix a bug in transferring very large messages (>2GB)
        - Thanks to Tibor Pausz from Univ. of Frankfurt for reporting it
    - Fix a hang with One-Sided Put operation
    - Fix a bug in ptmalloc integration
    - Avoid double-free crash with mpispawn
    - Avoid crash and print an error message in mpirun_rsh when the hostfile is
      empty
    - Checking for error codes in PMI design
    - Verify programs can link with LiMIC2 at runtime
    - Fix for compilation issue when BLCR or FTB installed in non-system paths
    - Fix an issue with RDMA-Migration
    - Fix a hang with RDMA CM
    - Fix an issue in supporting RoCE with second port on available on HCA
        - Thanks to Jeffrey Konz from HP for reporting it
    - Fix for a hang with passive RMA tests (QLogic PSM interface)

Main Verification Flows
-----------------------

In order to verify the correctness of MVAPICH2-1.7, the following tests
and parameters were run.

Test                            Description
================================================================================
Intel                           Intel's MPI functionality test suite
OSU Benchmarks                  OSU's performance tests
IMB                             Intel's MPI Benchmark test
mpich2                          Test suite distributed with MPICH2
NAS                             NAS Parallel Benchmarks (NPB3.2)
SPEC MPI2007                    SPEC's benchmark suite for MPI


User Guide
----------

The MVAPICH2 team provides a very detailed guide to build, install and use
MVAPICH2 on various platforms. The latest version of the user guide can be
obtained from http://mvapich.cse.ohio-state.edu/support/

Mailing List
------------

There is a public mailing list mvapich-discuss@cse.ohio-state.edu for mvapich
users and developers to
- Ask for help and support from each other and get prompt response
- Contribute patches and enhancements

================================================================================
