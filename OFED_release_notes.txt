	    Open Fabrics Enterprise Distribution (OFED)
			    Version 1.2
			   Release Notes

			   May 2007


===============================================================================
Table of Contents
===============================================================================
1. Overview, which includes:
	- OFED Distribution Rev 1.2 Contents
	- Supported Platforms and Operating Systems
	- Supported HCA Adapter Cards and Firmware Versions
	- Tested Switch Platforms
	- Third party Test Packages
	- OFED sources
2. Main Changes from OFED 1.0
3. Fixed Bugs
4. Known Issues


===============================================================================
1. Overview
===============================================================================
These are the release notes of Open Fabrics Enterprise Distribution (OFED)
release 1.2. The OFED software package is composed of several software modules,
and is intended for use on a computer cluster constructed as an InfiniBand
network.

Note: If you plan to upgrade the OFED package on your cluster, please upgrade
all of its nodes to this new version.


1.1 OFED 1.2 Contents
---------------------
The OFED package contains the following components:
  o   OpenFabrics core and ULPs:
        - HCA drivers (mthca, ipath, ehca)
        - core
        - Upper Layer Protocols: IPoIB, SDP, SRP Initiator, iSER Host and uDAPL
  o   OpenFabrics utilities:
        - OpenSM (OSM): InfiniBand Subnet Manager
        - Diagnostic tools
        - Performance tests
  o   MPI:
        - OSU MPI stack supporting the InfiniBand interface
        - Open MPI stack supporting the InfiniBand interface
        - MPI benchmark tests (OSU benchmarks, Intel MPI benchmarks, Presta)
  o   Sources of all software modules (under conditions mentioned in the modules'
      LICENSE files)
  o   Documentation

Notes:
1. SDP is in beta quality.
2. ehca driver is in technology preview state.
3. All other OFED components are of production quality.
4. See release notes for each package in the docs directory.
5. Any Topspin copyright belongs to Cisco Systems, Inc.

1.2 Supported Platforms and Operating Systems
---------------------------------------------
  o   CPU architectures:
	- x86_64
	- x86
	- ia64
	- ppc64
	
  o   Linux Operating Systems:
	- RedHat EL4 up3: 2.6.9-34.ELsmp
	- RedHat EL4 up4: 2.6.9-42.ELsmp
	- SLES9 SP3: 2.6.5-7.244-smp
	- SLES10: 2.6.16.21-0.8-smp
	- kernel.org: 2.6.17.x and 2.6.18.x
	
1.3 HCAs Supported
------------------
This release supports HCAs by Mellanox Technologies, Qlogic and IBM.

  o   Mellanox Technologies HCAs:
	- InfiniHost (fw-23108 Rev 3.5.000)
	- InfiniHost III Ex (MemFree: fw-25218 Rev 5.1.400 
	                     with memory: fw-25208 Rev 4.7.600)
	- InfiniHost III Lx (fw-25204 Rev 1.2.000)
	The SDR and DDR modes of the InfiniHost III family are supported.

	For official firmware versions please see:
	http://www.mellanox.com/support/firmware_table.php

  o   Qlogic HCAs:
	- QHT6040 (PathScale InfiniPath HT-460)
	- QHT6140 (PathScale InfiniPath HT-465)
	- QLE6140 (PathScale InfiniPath PE-880)

  o   IBM HCAs:
	- GX Dual-port 4x IB HCA 
	- GX Dual-port 12x IB HCA 


1.4 Switches Supported
----------------------
This release was tested with switches and gateways provided by the following
companies:
	- Cisco
	- Voltaire
	- SilverStorm
	- Flextronics

1.5 Third Party Packages
------------------------
The following third party packages have been tested with OFED 1.2:
1. Intel MPI, Version 2.0.1 - refresh, and Version 3.0

1.6 OFED Sources:
-----------------
Source repositories: 
Kernel: git://www.mellanox.co.il/~git/infiniband ofed_1_1
User:   https://openib.org/svn/gen2/branches/1.1/src/userspace

The kernel sources are based on Linux 2.6.18-rc6 mainline kernel. Its patches
are included in the OFED sources directory.
For details see HOWTO.build_ofed.


===============================================================================
2. Main Changes from OFED 1.0
===============================================================================
Note: For details regarding the various changes,  please see the release notes
for each package in the docs directory.

    2.1 General changes:
	o Kernel code based on 2.6.18
	o HCA fatal - kernel flow support
	o High Availability in IPoIB and SRP
	o RDS was removed for the OFED package
	o IBM low level driver (ehca) was added

    2.1 IPoIB:
    	o High Availability support using a user-level daemon (beta quality)

    2.2 SDP:
  	o Beta quality (higher stability)
  	o Improved latency
  	o Implemented the Naggle algorithm
  	o Supports sending/receiving out of band data 
  	o Interoperability with previous SDP implementation

    2.3 SRP:
   	o GA quality
   	o DM (Device Mapper) - for high availability (beta quality).
   	o New srp_daemon was added

    2.4 iSER:
	o Testing more platforms (e.g., ppc64 and ia64)

    2.5 uDAPL
     	o Scalability features needed for Intel MPI 

    2.6 MPI: 
	a. OSU MVAPICH:
      		o Version was changed to 0.9.7-mlx2.2.0
	      	o Message coalescing
	b. Open MPI:
		o Version was updated to v1.1.1
                o Bug fixes and general enhancements over v1.1
		o See http://www.open-mpi.org/svn/new.php for details
	c. MPI tests:
		o Updated the tests to latest versions from LLNL, Intel, OSU

    2.7 OSM:
 	o Partition Manager (Pkey)
 	o Pre-computed routing load from file 
 	o Primitive QoS - as technology preview 

    2.8 Management: 
	o Added Madeye utility
	o Added saquery tool
	o Enhanced ibnetdiscover tool with grouping function
	o New ibutils package: 
	   	o Port error counter check 
	   	o Port performance counters dump 
	   	o Link width and Link speed check by flag

    2.9 Install:
        o Create both 32-bit and 64-bit user-level libraries on x86_64 and
          ppc64 platforms
	o OSM RPM was separated into several RPMs to enable installing
	  diagnostic tools without the opensm executable.
        o The package kernel include files are placed under <prefix>/src/openib.
          These includes should be used when building kernel modules which use
          the Infiniband stack. (Note that these includes, if needed, have
          been "backported" to your kernel).
        o The package raw (unbackported) source files are placed under
          <prefix>/src/openib-1.2.

===============================================================================
3. Fixed Bugs
===============================================================================
1. OFED installation now supports installing lib32 on 64-bit systems.
2. Registration of huge page memory buffers is now supported.
3. Diagnostic tools do not require an opensm executable to be installed anymore.
4. Hotplug removal does not hang the system when the device is used by
   the uverbs interface.
4. MVAPICH does work on ppc64.

Bugs fixed in each package are reported in the packages release notes.

===============================================================================
4. Known Issues
===============================================================================
The following is a list of major limitations and known issues of the various
components of the OFED 1.2 release.

1. Memory registration by user is limited according to the administrator
   setting. See "Pinning (Locking) User Memory Pages" in OFED_tips.txt for
   system configuration.
2. Fork support from kernel 2.6.12 and above is available provided
   that applications do not use threads. The fork() is supported as long
   as parent process does not run before child exits or calls exec().
   The former can be achieved by calling wait(childpid) the later can be
   achieved by application specific means.  Posix system() call is
   supported.
3. On RedHat EL4 up2 and Fedora Core 4 the driver may not load properly if
   SELINUX is enforced.
   Workaround: Change the value of the parameter SELINUX in
   /etc/sysconfig/selinux from "enforcing" to "permissive" or "disabled".
4. libibcm is not thread safe: if several threads use libibcm, the function
   ib_cm_get_device will give the same device to all of the threads, which
   can cause thread X to get events that were sent to thread Y.
5. ehca driver is supported only on kernel 2.6.18.
6. ipath driver is supported only on 64 bit platforms.

Note: See the release notes of each component for additional issues.
